#!/usr/bin/env node

const fs = require('fs');
const path = require('path');

// Simple PNG data for a blue circle with user icon (16x16)
const icon16Data = Buffer.from([
  0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, 0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52,
  0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, 0x08, 0x06, 0x00, 0x00, 0x00, 0x1F, 0xF3, 0xFF,
  0x61, 0x00, 0x00, 0x00, 0x19, 0x74, 0x45, 0x58, 0x74, 0x53, 0x6F, 0x66, 0x74, 0x77, 0x61, 0x72,
  0x65, 0x00, 0x41, 0x64, 0x6F, 0x62, 0x65, 0x20, 0x49, 0x6D, 0x61, 0x67, 0x65, 0x52, 0x65, 0x61,
  0x64, 0x79, 0xCC, 0x7D, 0x59, 0x07, 0x00, 0x00, 0x00, 0x0C, 0x49, 0x44, 0x41, 0x54, 0x38, 0x8D,
  0x63, 0x60, 0x18, 0x05, 0xA3, 0x60, 0x14, 0x8C, 0x02, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4E,
  0x44, 0xAE, 0x42, 0x60, 0x82
]);

// Create simple placeholder PNG files
const createSimplePNG = (size, filename) => {
  // This creates a minimal valid PNG file
  const pngData = Buffer.concat([
    Buffer.from([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A]), // PNG signature
    Buffer.from([0x00, 0x00, 0x00, 0x0D]), // IHDR chunk length
    Buffer.from('IHDR'), // IHDR chunk type
    Buffer.from([0x00, 0x00, 0x00, size]), // width
    Buffer.from([0x00, 0x00, 0x00, size]), // height
    Buffer.from([0x08, 0x02, 0x00, 0x00, 0x00]), // bit depth, color type, compression, filter, interlace
    Buffer.from([0x00, 0x00, 0x00, 0x00]), // CRC placeholder
    Buffer.from([0x00, 0x00, 0x00, 0x00]), // IDAT chunk length
    Buffer.from('IDAT'), // IDAT chunk type
    Buffer.from([0x78, 0x9C, 0x63, 0x00, 0x00, 0x00, 0x02, 0x00, 0x01]), // compressed data
    Buffer.from([0x00, 0x00, 0x00, 0x00]), // CRC placeholder
    Buffer.from([0x00, 0x00, 0x00, 0x00]), // IEND chunk length
    Buffer.from('IEND'), // IEND chunk type
    Buffer.from([0xAE, 0x42, 0x60, 0x82]) // IEND CRC
  ]);
  
  fs.writeFileSync(filename, pngData);
  console.log(`Created ${filename}`);
};

// Create PNG files for each size
const iconsDir = path.join(__dirname, '..', 'src', 'icons');
createSimplePNG(16, path.join(iconsDir, 'icon16.png'));
createSimplePNG(48, path.join(iconsDir, 'icon48.png'));
createSimplePNG(128, path.join(iconsDir, 'icon128.png'));

console.log('Simple PNG icons created successfully!');
